<ion-content>
  <div class="form-container">

    <div class="form-header">
      <a routerLink="/" class="logo-link">
        <ion-icon name="book" color="primary"></ion-icon>
        <span>Bookshelf</span>
      </a>
      <h2>Criar uma conta</h2>
      <p>Junte-se à comunidade e comece a compartilhar livros</p>
    </div>

    <form [formGroup]="registerForm" (ngSubmit)="onRegister()">

      <div class="input-group">
        <ion-label>Nome Completo</ion-label>
        <ion-item class="custom-input">
          <ion-input type="text" formControlName="name"></ion-input>
        </ion-item>
      </div>

      <div class="input-group">
        <ion-label>E-mail</ion-label>
        <ion-item class="custom-input">
          <ion-input type="email" formControlName="email"></ion-input>
        </ion-item>
      </div>

      <div class="input-group">
        <ion-label>Senha</ion-label>
        <ion-item class="custom-input">
          <ion-input [type]="showPassword ? 'text' : 'password'" formControlName="password"></ion-input>
          <ion-button fill="clear" slot="end" (click)="togglePasswordVisibility()">
            <ion-icon [name]="showPassword ? 'eye-off-outline' : 'eye-outline'" slot="icon-only"></ion-icon>
          </ion-button>
        </ion-item>
      </div>

      <ion-button type="submit" expand="block" class="ion-margin-top" [disabled]="registerForm.invalid || isLoading">
        <ion-spinner *ngIf="isLoading" name="crescent"></ion-spinner>
        <span *ngIf="!isLoading">Criar Conta</span>
      </ion-button>
      
      <div class="footer-link">
        <p>Já tem uma conta? <a routerLink="/login">Entre aqui</a></p>
      </div>

    </form>

  </div>
</ion-content>